<script type="text/javascript">
/*
* jquery.animate.clip.js
*
* jQuery css clip animation support -- Joshua Poehls
* version 0.1.4

* forked from Jim Palmer's plugin http://www.overset.com/2008/08/07/jquery-css-clip-animation-plugin/
* idea spawned from jquery.color.js by John Resig
* Released under the MIT license.
*/
(function (jQuery) {

    function getStyle(elem, name) {
        return (elem.currentStyle && elem.currentStyle[name]) || elem.style[name];
    }

    function getClip(elem) {
        var cssClip = jQuery(elem).css('clip') || '';

        if (!cssClip) {
            // Try to get the clip rect another way for IE8.
            // This is a workaround for jQuery's css('clip') returning undefined
            // when the clip is defined in an external stylesheet in IE8. -JPOEHLS
            var pieces = {
                top: getStyle(elem, 'clipTop'),
                right: getStyle(elem, 'clipRight'),
                bottom: getStyle(elem, 'clipBottom'),
                left: getStyle(elem, 'clipLeft')
            };

            if (pieces.top && pieces.right && pieces.bottom && pieces.left) {
                cssClip = 'rect(' + pieces.top + ' ' + pieces.right + ' ' + pieces.bottom + ' ' + pieces.left + ')';
            }
        }

        // Strip commas and return.
        return cssClip.replace(/,/g, ' ');
    }

    jQuery.fx.step.clip = function (fx) {
        if (fx.pos === 0) {
            var cRE = /rect\(([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)[,]?\s+([0-9\.]{1,})(px|em)\)/;

            fx.start = cRE.exec(getClip(fx.elem));
            if (typeof fx.end === 'string') {
                fx.end = cRE.exec(fx.end.replace(/,/g, ' '));
            }
        }
        if (fx.start && fx.end) {
            var sarr = new Array(), earr = new Array(), spos = fx.start.length, epos = fx.end.length,
                emOffset = fx.start[ss + 1] == 'em' ? (parseInt($(fx.elem).css('fontSize')) * 1.333 * parseInt(fx.start[ss])) : 1;
            for (var ss = 1; ss < spos; ss += 2) { sarr.push(parseInt(emOffset * fx.start[ss])); }
            for (var es = 1; es < epos; es += 2) { earr.push(parseInt(emOffset * fx.end[es])); }
            fx.elem.style.clip = 'rect(' +
                parseInt((fx.pos * (earr[0] - sarr[0])) + sarr[0]) + 'px ' +
                parseInt((fx.pos * (earr[1] - sarr[1])) + sarr[1]) + 'px ' +
                parseInt((fx.pos * (earr[2] - sarr[2])) + sarr[2]) + 'px ' +
                parseInt((fx.pos * (earr[3] - sarr[3])) + sarr[3]) + 'px)';
        }
    }
})(jQuery);
</script>
<script type="text/javascript" src="./js/widgets/flipbook.js"></script>
<input type="button" name="" id="left" value="pre">
<input type="button" name="" id="right" value="next">
<script type="text/javascript">
$(function(){
	// var curr = 0;
	// var $flipBook = $('.flipBook');
	// var $flipItem j_flipItems = $flipBook.find('.flipItem j_flipItem');
	// var w0 = $flipItem j_flipItems.eq(curr).width(),
	// 		h0 = $flipItem j_flipItems.eq(curr).height();

	// // $flipItem j_flipItems.height(h0).find('.picBox').height(h0)
	// $flipItem j_flipItems.css({
	// 	'clip': 'rect(0,500px,400px,0)'
	// }).filter(function(idx){
	// 	return idx % 2 !== 0
	// }).addClass('evenItem');

	// $('#left').click(function(){
	// 	var $flipEl = $flipItem j_flipItems.eq(curr - 1);
	// 	$flipEl.css({
	// 		width: 0,
	// 		left: 0
	// 	}).addClass('fliping');

	// 	var $nextEl = $flipItem j_flipItems.eq(curr - 2);
	// 	$nextEl.addClass('next').css({
	// 		clip: 'rect(0px 0px 400px 0px)'
	// 	});
	// 	$nextEl.animate({
	// 		clip: 'rect(0px 500px 400px 0px)'
	// 	}, 1000,function(){
	// 		$flipItem j_flipItems.not(function(idx){
	// 			return (idx === curr - 1)  || (idx === curr - 2)
	// 		}).removeClass('active');
	// 		$(this).removeClass('next').addClass('active')
	// 	});
	// 	$flipEl.animate({
	// 		width: w0,
	// 		left: '50%'
	// 	}, 1000,function(){
	// 		curr -= 2;
	// 		$(this).removeClass('fliping').addClass('active')
	// 	});
	// });

	// $('#right').click(function(){
		
	// 	var $flipEl = $flipItem j_flipItems.eq(curr + 2);
	// 	$flipEl.css({
	// 		width: 0,
	// 		left: '100%'
	// 	}).addClass('fliping');

	// 	var $nextEl = $flipItem j_flipItems.eq(curr + 2 + 1);
	// 	$nextEl.addClass('next').css({
	// 		clip: 'rect(0px 500px 400px 500px)'
	// 	});
	// 	$nextEl.animate({
	// 		clip: 'rect(0px 500px 400px 0px)'
	// 	}, 1000,function(){
	// 		$flipItem j_flipItems.not(function(idx){
	// 			return (idx === curr + 2)  || (idx === curr + 2 + 1)
	// 		}).removeClass('active');
	// 		$(this).removeClass('next').addClass('active')
	// 	});
	// 	$flipEl.animate({
	// 		width: w0,
	// 		left: 0
	// 	}, 1000,function(){
	// 		curr += 2;
	// 		$(this).removeClass('fliping').addClass('active')
	// 	});
	// })
	

})	
</script>
<div class="cccc" style="width: 1000px;height: 400px;margin: 50px auto;position: relative;overflow: hidden;">
	

<div class="flipBook j_flipBook">
	<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/Front.jpg' class="pic" />
		</div>
	</div>
		<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/Front.jpg' class="pic" />
		</div>
	</div>
	<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/A_Angel_s_Page_1.jpg' class="pic" />
		</div>
	</div>
	<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/A_Angel_s_Page_1.jpg' class="pic" />
		</div>
	</div>
	<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/A_Angel_s_Page_2.jpg' class="pic" />
		</div>
	</div>
	<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/A_Angel_s_Page_2.jpg' class="pic" />
		</div>
	</div>
	<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/S_Squid_s_Page_1.jpg' class="pic" />
		</div>
	</div>
	<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/S_Squid_s_Page_1.jpg' class="pic" />
		</div>
	</div>
	<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/S_Squid_s_Page_2.jpg' class="pic" />
		</div>
	</div>
	<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/S_Squid_s_Page_2.jpg' class="pic" />
		</div>
	</div>
	<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/Back.jpg' class="pic" />
		</div>
	</div>
	<div class="flipItem j_flipItem">
		<div class="picBox">
			<img src='../images/sample/Back.jpg' class="pic" />
		</div>
	</div>
</div>

</div>
<script type="text/javascript">
	$(function function_name(argument) {
			var p = 1;
			var instance = new App.FlipBook({
				$el: $('.cccc')
			});
			$('#left').click(function(){
				p -= 1;
				instance.turnPage(p);
			});
			$('#right').click(function(){
				p += 1;
				instance.turnPage(p);
			})
	})
</script>